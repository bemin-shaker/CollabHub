(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{119:function(n,e,t){"use strict";t.r(e);var a,o,r,i=t(1),c=t.n(i),s=t(33),d=t.n(s),l=(t(83),t(9)),p=t(15),j=t(53),b=t(10),x=t(138),u=t(22),h=t(39),m=h.a.initializeApp({apiKey:"AIzaSyCDmvfIN9rb7UVxOJm11w5aKjxU6Ciihtw",authDomain:"chat-app-9a2dc.firebaseapp.com",projectId:"chat-app-9a2dc",storageBucket:"chat-app-9a2dc.appspot.com",messagingSenderId:"704681508613",appId:"1:704681508613:web:42aab12ecadbb6d427016c"}).firestore(),g=h.a.auth(),O=new h.a.auth.GoogleAuthProvider,f=t(4);var v,w=function(){var n=Object(u.a)(g),e=Object(p.a)(n,1)[0];return Object(f.jsx)(y,{children:Object(f.jsx)(I,{children:Object(f.jsx)(S,{onClick:function(){return g.signOut()},alt:null===e||void 0===e?void 0:e.displayName,src:null===e||void 0===e?void 0:e.photoURL})})})},y=b.a.div(a||(a=Object(l.a)(["\n  display: flex;\n  position: fixed;\n  max-width: 250px;\n  min-width: 250px;\n\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px 0;\n  background-color: var(--chat-color);\n  color: white;\n"]))),I=b.a.div(o||(o=Object(l.a)(["\n  flex: 0.3;\n  display: flex;\n  align-items: center;\n  margin-left: 13px;\n\n  > .MuiSvgIcon-root {\n    margin-left: auto;\n    margin-right: 30px;\n  }\n"]))),S=Object(b.a)(x.a)(r||(r=Object(l.a)(["\n  cursor: pointer;\n\n  :hover {\n    opacity: 0.8;\n  }\n"]))),k=t(70),N=t.n(k),C=t(71),z=t.n(C),D=t(72),J=t.n(D),F=t(73),R=t.n(F),M=t(37),U=t(50),A=Object(U.b)({name:"app",initialState:{roomId:null},reducers:{enterRoom:function(n,e){n.roomId=e.payload.roomId}}}),B=A.actions.enterRoom,G=function(n){return n.app.roomId},V=A.reducer,E=t(55),P=t.n(E),T=t(68),W=t(135),Y=t(137),q=t(69),K=t.n(q);t(96);var L,H,X=function(){var n=Object(i.useRef)(),e=Object(i.useState)(!1),t=Object(p.a)(e,2),a=t[0],o=t[1];function r(){return(r=Object(T.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),localStorage.setItem("groupName",JSON.stringify(n.current.value)),o(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.jsx)($,{children:Object(f.jsxs)(W.a,{onSubmit:function(n){return r.apply(this,arguments)},children:[Object(f.jsx)(W.a.Group,{className:"form-group",children:Object(f.jsx)(W.a.Control,{className:"form-input",placeholder:"Group Name",ref:n,required:!0})}),Object(f.jsx)(Y.a,{disabled:a,className:"w-100",type:"submit",children:Object(f.jsx)(K.a,{id:"CheckIcon"})})]})})},$=b.a.div(v||(v=Object(l.a)(["\n  > Form {\n    display: flex;\n    justify-content: space-around;\n  }\n  > Form > .form-group > .form-input {\n    border-radius: 30px !important;\n    background-color: #1d3461 !important;\n    border: 0 !important;\n    padding: 12px !important;\n    width: 300px;\n    margin-right: 5px;\n\n    cursor: pointer;\n\n    :hover,\n    :focus {\n      opacity: 0.95;\n      background-color: #102041;\n      outline: none;\n    }\n    *:focus {\n      outline: 0 !important;\n    }\n  }\n  button:hover,\n  button:focus {\n    outline: none;\n    opacity: 0.95;\n  }\n\n  > Form > button {\n    border-radius: 30px !important;\n    background-color: #1d3461 !important;\n    border: 0 !important;\n    color: rgb(212, 211, 211);\n    padding: 8px 10px 7px 10px;\n    transform: translateY(-1px);\n  }\n\n  > Form > button > #CheckIcon {\n    transform: translateY(1px);\n  }\n"])));var Q,Z,_,nn=function(n){var e=n.Icon,t=n.title,a=n.addChannelOption,o=n.id,r=Object(i.useState)(JSON.parse(localStorage.getItem("groupName"))),c=Object(p.a)(r,1)[0],s=Object(u.a)(g),d=(Object(p.a)(s,1)[0],Object(M.b)());return Object(f.jsxs)(en,{onClick:a?function(){var n=prompt("Please enter the channel name");n&&m.collection(c).add({name:n})}:function(){o&&d(B({roomId:o}))},children:[e&&Object(f.jsx)(e,{fontSize:"small",style:{padding:10}}),e?Object(f.jsx)("h3",{children:t}):Object(f.jsxs)(tn,{children:[Object(f.jsx)("span",{children:"#"})," ",t]})]})},en=b.a.div(L||(L=Object(l.a)(["\n  display: flex;\n  font-size: 12px;\n  align-items: center;\n  padding-left: 2px;\n\n  cursor: pointer;\n\n  :hover {\n    opacity: 0.9;\n    background-color: #182c55;\n  }\n  > h3 {\n    font-weight: 500;\n  }\n\n  > h3 > span {\n    padding: 15px;\n  }\n"]))),tn=b.a.h3(H||(H=Object(l.a)(["\n  padding: 10px 0;\n  font-weight: 300;\n"]))),an=t(74),on=t.n(an),rn=t(44);var cn,sn=function(n){var e=Object(i.useState)(JSON.parse(localStorage.getItem("groupName"))),t=Object(p.a)(e,1)[0],a=Object(u.a)(g),o=Object(p.a)(a,1)[0],r=Object(rn.a)(m.collection(t)),c=Object(p.a)(r,1)[0];return Object(f.jsxs)(dn,{children:[Object(f.jsx)(ln,{children:Object(f.jsxs)(pn,{children:[Object(f.jsx)("h2",{children:t}),Object(f.jsxs)("h3",{children:[Object(f.jsx)(N.a,{}),o.displayName]})]})}),Object(f.jsx)(nn,{Icon:z.a,title:"Threads"}),Object(f.jsx)(nn,{Icon:J.a,title:"Mentions & reactions"}),Object(f.jsx)(nn,{Icon:R.a,title:"Channel browser"}),Object(f.jsx)("hr",{}),Object(f.jsx)(nn,{Icon:on.a,addChannelOption:!0,title:"Add channel"}),null===c||void 0===c?void 0:c.docs.map((function(n){return Object(f.jsx)(nn,{id:n.id,title:n.data().name},n.id)}))]})},dn=b.a.div(Q||(Q=Object(l.a)(["\n  background-color: var(--chat-color);\n  color: white;\n  flex: 0.3;\n  border-top: 1px solid #1f487e;\n  max-width: 250px;\n  min-width: 250px;\n  margin-top: 60px;\n\n  > hr {\n    margin-top: 10px;\n    margin-bottom: 10px;\n    border: 1px solid #1f487e;\n  }\n"]))),ln=b.a.div(Z||(Z=Object(l.a)(["\n  display: flex;\n  border-bottom: 1px solid #1f487e;\n  padding: 13px;\n\n  > .MuiSvgIcon-root {\n    padding: 9px;\n    color: #49274b;\n    font-size: 18px;\n    background-color: white;\n    border-radius: 999px;\n  }\n"]))),pn=b.a.div(_||(_=Object(l.a)(["\n  flex: 1;\n\n  > h2 {\n    font-size: 15px;\n    font-weight: 900;\n    margin-bottom: 5px;\n  }\n\n  > h3 {\n    display: flex;\n    font-size: 13px;\n    font-weight: 400;\n    align-items: center;\n  }\n\n  > h3 > .MuiSvgIcon-root {\n    font-size: 14px;\n    margin-top: 1px;\n    margin-right: 1.5px;\n    transform: translateX(-2px);\n    color: green;\n  }\n"]))),jn=t(75),bn=t.n(jn),xn=t(76),un=t.n(xn),hn=t(136);var mn,gn,On=function(n){var e=n.channelName,t=n.channelId,a=n.chatRef,o=Object(i.useState)(JSON.parse(localStorage.getItem("groupName"))),r=Object(p.a)(o,1)[0],c=Object(u.a)(g),s=Object(p.a)(c,1)[0],d=Object(i.useState)(""),l=Object(p.a)(d,2),j=l[0],b=l[1];return Object(f.jsx)(fn,{children:Object(f.jsxs)("form",{children:[Object(f.jsx)("input",{value:j,onChange:function(n){return b(n.target.value)},placeholder:"Message #".concat(e)}),Object(f.jsx)(hn.a,{hidden:!0,type:"submit",onClick:function(n){var e;if(n.preventDefault(),!t)return!1;m.collection(r).doc(t).collection("messages").add({message:j,timestamp:h.a.firestore.FieldValue.serverTimestamp(),user:s.displayName,userImage:s.photoURL}),null===a||void 0===a||null===(e=a.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}),b("")},children:"SEND"})]})})},fn=b.a.div(cn||(cn=Object(l.a)(["\n  border-radius: 20px;\n\n  > form {\n    position: relative;\n    display: flex;\n    justify-content: center;\n  }\n\n  > form > input {\n    position: fixed;\n    bottom: 30px;\n    width: 60%;\n    border: 1px solid gray;\n    border-radius: 3px;\n    padding: 20px;\n    outline: none;\n  }\n\n  > form > button {\n    display: none !important;\n  }\n"])));var vn,wn,yn,In,Sn,kn,Nn=function(n){var e=n.message,t=n.timestamp,a=n.user,o=n.userImage;return Object(f.jsxs)(Cn,{children:[Object(f.jsx)("img",{src:o,alt:""}),Object(f.jsxs)(zn,{children:[Object(f.jsxs)("h4",{children:[a," ",Object(f.jsx)("span",{children:new Date(null===t||void 0===t?void 0:t.toDate()).toUTCString()})]}),Object(f.jsx)("p",{children:e})]})]})},Cn=b.a.div(mn||(mn=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  padding: 20px;\n\n  > img {\n    height: 50px;\n    width: 50px;\n    border-radius: 50%;\n  }\n"]))),zn=b.a.div(gn||(gn=Object(l.a)(["\n  padding-left: 10px;\n\n  > h4 > span {\n    color: gray;\n    font-weight: 300;\n    margin-left: 4px;\n    font-size: 10px;\n  }\n"])));var Dn,Jn,Fn=function(){var n=Object(i.useState)(JSON.parse(localStorage.getItem("groupName"))),e=Object(p.a)(n,1)[0],t=Object(u.a)(g),a=(Object(p.a)(t,1)[0],Object(i.useRef)(null)),o=Object(M.c)(G),r=Object(rn.b)(o&&m.collection(e).doc(o)),c=Object(p.a)(r,1)[0],s=Object(rn.a)(o&&m.collection(e).doc(o).collection("messages").orderBy("timestamp","asc")),d=Object(p.a)(s,2),l=d[0],j=d[1];return Object(i.useEffect)((function(){var n;null===a||void 0===a||null===(n=a.current)||void 0===n||n.scrollIntoView({behavior:"smooth"})}),[o,j]),Object(f.jsx)(Gn,{children:c&&l&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(Mn,{children:[Object(f.jsxs)(An,{children:[Object(f.jsx)("h4",{children:Object(f.jsxs)("strong",{children:["#",null===c||void 0===c?void 0:c.data().name]})}),Object(f.jsx)(bn.a,{})]}),Object(f.jsx)(Bn,{children:Object(f.jsxs)("p",{children:[Object(f.jsx)(un.a,{})," Details"]})})]}),Object(f.jsxs)(Un,{children:[null===l||void 0===l?void 0:l.docs.map((function(n){var e=n.data(),t=e.message,a=e.timestamp,o=e.user,r=e.userImage;return Object(f.jsx)(Nn,{message:t,timestamp:a,user:o,userImage:r},n.id)})),Object(f.jsx)(Rn,{ref:a})]}),Object(f.jsx)(On,{chatRef:a,channelName:null===c||void 0===c?void 0:c.data().name,channelId:o})]})})},Rn=b.a.div(vn||(vn=Object(l.a)(["\n  padding-bottom: 100px;\n"]))),Mn=b.a.div(wn||(wn=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 20px;\n  border-bottom: 1px solid lightgray;\n"]))),Un=b.a.div(yn||(yn=Object(l.a)([""]))),An=b.a.div(In||(In=Object(l.a)(["\n  display: flex;\n  align-items: center;\n\n  > h4 {\n    display: flex;\n    text-transform: lowercase;\n    margin-right: 10px;\n  }\n\n  > h4 > .MuiSvgIcon-root {\n    margin-left: 10x;\n    font-size: 18px;\n  }\n"]))),Bn=b.a.div(Sn||(Sn=Object(l.a)(["\n  > p {\n    display: flex;\n    align-items: center;\n    font-size: 14px;\n  }\n"]))),Gn=b.a.div(kn||(kn=Object(l.a)(["\n  flex: 0.7;\n  flex-grow: 1;\n  overflow-y: scroll;\n"])));var Vn,En,Pn,Tn=function(){return Object(f.jsx)(Wn,{children:Object(f.jsxs)(Yn,{children:[Object(f.jsx)("h1",{children:"CollabHub"}),Object(f.jsx)("h3",{children:"Join existing group or create new group"}),Object(f.jsx)(X,{}),Object(f.jsx)(hn.a,{onClick:function(n){n.preventDefault(),g.signInWithPopup(O).catch((function(n){return alert(n.message)}))},children:"Sign in with Google"})]})})},Wn=b.a.div(Dn||(Dn=Object(l.a)(["\n  background-color: #f5f5f5;\n  height: 100vh;\n  min-width: 100vw !important;\n  display: grid;\n  place-items: center;\n  box-shadow: 0px 3px 4px rgba(0, 0, 0, 0.05);\n"]))),Yn=b.a.div(Jn||(Jn=Object(l.a)(["\n  max-width: 80vw;\n  padding: 100px;\n  text-align: center;\n  background-color: white;\n  box-shadow: 0px 3px 4px rgba(0, 0, 0, 0.05);\n  color: #1d3461;\n  > img {\n    object-fit: contain;\n    height: 100px;\n    margin-bottom: 40px;\n  }\n\n  > h1 {\n    font-weight: 700;\n    color: #1d3461;\n    font-size: 40px;\n    margin-bottom: 13px;\n  }\n\n  > h3 {\n    font-weight: 200 !important;\n    margin-bottom: 20px;\n  }\n\n  > button {\n    margin-top: 50px;\n    border-radius: 30px !important;\n    padding: 8px 15px 8px 15px;\n    text-transform: inherit !important;\n    background-color: green !important;\n    color: white;\n    transform: translateY(-20px);\n  }\n  button:hover,\n  button:focus {\n    outline: none;\n    opacity: 0.95;\n  }\n"]))),qn=t(99);var Kn=function(){var n=Object(u.a)(g),e=Object(p.a)(n,2),t=e[0];return e[1]?Object(f.jsx)(Ln,{children:Object(f.jsxs)(Hn,{children:[Object(f.jsx)("img",{src:"https://images.photowall.com/products/57205/golden-retriever.jpg?h=699&q=85"}),Object(f.jsx)(qn,{name:"ball-spin-fade-loader",color:"red",fadeIn:"none"})]})}):Object(f.jsx)("div",{className:"app",children:Object(f.jsx)(j.a,{children:t?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(w,{}),Object(f.jsxs)(Xn,{children:[Object(f.jsx)(sn,{}),Object(f.jsx)(Fn,{})]})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(Tn,{})})})})},Ln=b.a.div(Vn||(Vn=Object(l.a)(["\n  display: grid;\n  place-items: center;\n  height: 100vh;\n  width: 100%;\n"]))),Hn=b.a.div(En||(En=Object(l.a)(["\n  text-align: center;\n  padding-bottom: 100px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  > img {\n    height: 100px;\n    padding: 20px;\n    margin-bottom: 40px;\n  }\n"]))),Xn=b.a.div(Pn||(Pn=Object(l.a)(["\n  display: flex;\n  height: 100vh;\n"]))),$n=Object(U.a)({reducer:{app:V}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));d.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(M.a,{store:$n,children:Object(f.jsx)(Kn,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))},83:function(n,e,t){},96:function(n,e,t){}},[[119,1,2]]]);
//# sourceMappingURL=main.c1af08f1.chunk.js.map